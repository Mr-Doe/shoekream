<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
    
<mapper namespace="com.shoekream.www.repository.MemberDAO">
	<sql id="wh_email">
		where email = #{email}
	</sql>
	<insert id="insert" parameterType="memberVO">
		insert into member (email, pwd, nick_name)
		values (#{email}, #{pwd}, #{nickName})
	</insert>
	<select id="login" parameterType="memberVO" resultType="memberVO">
		select mem_id, email, nick_name, grade
		from member
		<include refid="wh_email"/>
		and pwd = #{pwd}
	</select>
	<select id="selectList" resultType="memberVO">
		select mem_id, email, nick_name, grade
		from member
	</select>
	<select id="selectDetail" resultType="memberVO">
		select * from member
		<include refid="wh_email"/>
	</select>
	<update id="update" parameterType="memberVO">
		update member set
		nick_name = #{nickName},
		pwd = #{pwd}
		<include refid="wh_email"/>
	</update>
	<delete id="delete">
		delete from member
		<include refid="wh_email"/>
	</delete>
	<!-- <select id="purchaseHistoryList" parameterType="string" resultType="">
		select i.item_no, p.e_name, ss.size_value
		from items i
		inner join product p on i.pno = p.pno
		inner join shoe_size ss on i.shoe_size = ss.ssid
		where i.is_sold = 1 and i.seller_email = #{email}
	</select>
	<select id="salesHistoryList" parameterType="string" resultType="">
		select i.item_no, p.e_name, ss.size_value
		from items i
		inner join product p on i.pno = p.pno
		inner join shoe_size ss on i.shoe_size = ss.ssid
		where i.is_sold = 1 and i.buyer_email = #{email}
	</select> -->
</mapper>